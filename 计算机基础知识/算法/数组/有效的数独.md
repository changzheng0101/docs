# 题目

请你判断一个 9 x 9 的数独是否有效。只需要 根据以下规则 ，验证已经填入的数字是否有效即可。

数字 1-9 在每一行只能出现一次。
		数字 1-9 在每一列只能出现一次。
		数字 1-9 在每一个以粗实线分隔的 3x3 宫内只能出现一次。（请参考示例图）

## 示例

```bash
输入：board = 
[["5","3",".",".","7",".",".",".","."]
,["6",".",".","1","9","5",".",".","."]
,[".","9","8",".",".",".",".","6","."]
,["8",".",".",".","6",".",".",".","3"]
,["4",".",".","8",".","3",".",".","1"]
,["7",".",".",".","2",".",".",".","6"]
,[".","6",".",".",".",".","2","8","."]
,[".",".",".","4","1","9",".",".","5"]
,[".",".",".",".","8",".",".","7","9"]]
输出：true
```

```
输入：board = 
[["8","3",".",".","7",".",".",".","."]
,["6",".",".","1","9","5",".",".","."]
,[".","9","8",".",".",".",".","6","."]
,["8",".",".",".","6",".",".",".","3"]
,["4",".",".","8",".","3",".",".","1"]
,["7",".",".",".","2",".",".",".","6"]
,[".","6",".",".",".",".","2","8","."]
,[".",".",".","4","1","9",".",".","5"]
,[".",".",".",".","8",".",".","7","9"]]
输出：false
解释：除了第一行的第一个数字从 5 改为 8 以外，空格内其他数字均与 示例1 相同。 但由于位于左上角的 3x3 宫内有两个 8 存在, 因此这个数独是无效的。
```

# 解法

## 暴力法

先看每行，再看每列，最后看九宫格，用一个set存储，如果可以不是`.`，就尝试`add`，如果可以`add`成功，就代表之前没有这个数字。

```java
Set<Character> record = new HashSet<>();
for (int i = 0; i < board.length; i++) {
    for (int j = 0; j < 9; j++) {
        if (board[i][j] != '.' && !record.add(board[i][j])) {
            return false;
        }
    }
    record.clear();
}
for (int i = 0; i < board.length; i++) {
    for (int j = 0; j < 9; j++) {
        if (board[j][i] != '.' && !record.add(board[j][i])) {
            return false;
        }
    }
    record.clear();
}
for (int row = 0; row < 9; row = row + 3) {
    for (int col = 0; col < 9; col = col + 3) {
        for (int x = 0; x < 3; x++) {
            for (int y = 0; y < 3; y++) {
                if (board[row + x][col + y] != '.' && !record.add(board[row + x][col + y])) {
                    return false;
                }
            }
        }
        record.clear();
    }
}

return true;
```

## 直接判断

用三个二维数组保存结果，但是对应的index，就代表有没有这个数字，例如第一行的第七个数字为1，则代表第一行出现了7，以此类推，如果对应的位置已经是1，就代表这个数独有问题。

```java
int length = board.length;
//二维数组line表示的是对应的行中是否有对应的数字，比如line[0][3]
//表示的是第0行（实际上是第1行，因为数组的下标是从0开始的）是否有数字3
int line[][] = new int[length][length];
int column[][] = new int[length][length];
int cell[][] = new int[length][length];
for (int i = 0; i < length; ++i)
    for (int j = 0; j < length; ++j) {
        //如果还没有填数字，直接跳过
        if (board[i][j] == '.')
            continue;
        //num是当前格子的数字
        int num = board[i][j] - '0' - 1;
        //k是第几个单元格，9宫格数独横着和竖着都是3个单元格
        int k = i / 3 * 3 + j / 3;
        //如果当前数字对应的行和列以及单元格，只要一个由数字，说明冲突了，直接返回false。
        //举个例子，如果line[i][num]不等于0，说明第i（i从0开始）行有num这个数字。
        if (line[i][num] != 0 || column[j][num] != 0 || cell[k][num] != 0)
            return false;
        //表示第i行有num这个数字，第j列有num这个数字，对应的单元格内也有num这个数字
        line[i][num] = column[j][num] = cell[k][num] = 1;
    }
return true;
```



