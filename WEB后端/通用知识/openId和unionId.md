# OpenId和UnionId

>这两种Id使用的时候，都是后端有接口暴露给第三方进行使用，例如淘宝给开发者暴露接口，可以让开发者完成对于店铺的统计。飞书开放平台让开发者可以自己创建机器人

## 传统方法的问题

在开放平台中，获取用户的信息是一个很常见的操作，如果直接将用户的ID暴露出去，就会造成数据信息的泄露，容易遭受到攻击，openid和unionId的初衷就是**让第三方开发者可以获取唯一的用户标识符但是不知道用户在数据库中的Id**。

## openid

为了保证不同应用程序之间的信息不容易共享，对于每一个应用程序，第三方平台都会返回一个openid

## unionid

>是一种范围性的openid

例如对于同一个开发者，他开发的所有程序，都可以生成同一个unionid，这个开发者可以共享自己有权限访问数据。**如果使用加密算法进行id的生成，还需要再信息中添加范围信息。**

## 生成方法

### 数据库存储法

数据库中存储对应的openid和unionId，这样比较浪费空间。

### 生成法

通过算法根据用户的信息进行相应openid和unionid的生成，这种方式节约内存，但是如果算法暴露了，所有的id信息也都就暴露了。